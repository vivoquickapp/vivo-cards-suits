<import name="my-image" src="../../common/image.ux"></import>
<import name="footer-sign" src="../sign/index.ux"></import>

<template>
  <div class="card">
    <div class="content-list">
      <div
        class="content-list-item {{$idx!==0?'border-top':''}}"
        for="{{listData}}"
      >
        <text class="title">{{ $item.title }}</text>
        <div class="content">
          <div class="params-wrap" if="{{$item.params}}">
            <div class="params-key-list">
              <div
                class="params-key {{paramsIndex!==0?'margin-top':''}}"
                for="{{(paramsIndex,paramsItem) in $item.params}}"
              >
                <text
                  class="params-key-str"
                  for="{{(strIndex, strItem) in paramsItem.key.split('')}}"
                  >{{
                    strIndex + 1 == paramsItem.key.length
                      ? `${strItem}：`
                      : strItem
                  }}</text
                >
              </div>
            </div>
            <div class="params-value-list">
              <text
                class="params-value {{paramsIndex!==0?'margin-top':''}}"
                for="{{(paramsIndex,paramsItem) in $item.params}}"
                >{{ paramsItem.value }}</text
              >
            </div>
          </div>
          <div class="info-wrap" else>
            <text class="description">{{ $item.description }}</text>
            <text class="tips" show="{{!!$item.tips}}">{{ $item.tips }}</text>
            <div class="record-row" show="{{!!$item.record}}">
              <div
                class="record-item"
                for="{{ (recordIndex,recordItem) in $item.record}}"
              >
                <image
                  class="record-item-icon"
                  src="{{recordImg[recordItem.type]}}"
                ></image>
                <text class="record-item-number">{{
                  recordItem.number | filterRecordNumber
                }}</text>
              </div>
            </div>
          </div>

          <my-image
            class="image"
            resize-mode="{{imgResizeMode}}"
            object-fit="{{imgObjectFit}}"
            src="{{$item.imgUrl}}"
            alt="data:image/png;base64,UklGRq4FAABXRUJQVlA4TKEFAAAvH8E1EA8GN5IkQUr2PzIW4L+BqARXET9OMGzbNgzTFtgT+/+7nbDKbSRJQtMLWMRA/hnK1I/jSLaVqtEEWJEECXj+ibBzhy8CkmRAYDegShH8fr9LkCBIICKIQEQSiFDCQRQiAgmCeToEOVgiiuAmSYTy4Z2ykohABvEgEPGRXheCYea5IXeR3ERiqIiwSCrkfFzqCGJI7ie5O0YhoUKCGJhHlGMkRDAcgVmQQAKjDElgxEBO+fN+tmZ474dhYDY8l+/nzTvrrXmvi9mOrxGOP2buYzVs7TK6YTDzfw9Nsv7F3wi+/jt/zSlbyx4CjoK2bZiaP+xdCBExAXlVS5BKKHe4kSQ3khqQ4b8PI4BD5LYt1a6fIqL/E0Dt1h5FbpSlikur9ISZmanDzMzMzMzMxjYqsYxTZrbzNRXwz5vxdI+3TlcvR/R/AnBT9VmSNx+/T2V2hRdlOUNEt+SJHtaQ0Q59S7IhZJYbLRpKxnoh0ZAyyonOhpZZH4Yh5gAglhlWgGWouaAcN5zqhpx9smMWdpTEjuTZ4c32//b/9v+f4dLYdgCye+SkyWaeNGGwlOFPDFp+8bVXbGYv+8nuKRJCnp59TykmY3NN3q4YhDo9530tmb28do8DIU4Pf1ZBxldrRIiDTTVkfn4zBkIbjH6hkrCpk5DaK0Kbnl9GSW+fOmniU+fecZI7DoS1jI0qgY87GoysZ2UyEfGLThnW5PbahI/uL2jo7usq4fU4Hfq+mSp2JdmEvxcAaKmlgKgCdL/x81auXz6784eIJABnHn7NSil6vn2CgOhBDj5CtUyJqjZzM0LUAEMv1DL1zOV7uyMGcE4pSpnj9TJa0OuYfLI361uUoIc+V35InXeihG9zmX1x1nQdHYDcW0v+1Yb0AdhT7GwgR2Sa9PLN3WBNA66oAGpPY1pBuF58O4I1XQzkVHp0axZz2RYHLAmP1gagdv+aDumWMBGVH0CwIuy7Uvnjj0u/BQfCzWZKVNsdsCI9JY/9PR+tg9NuNlNS5q0O2BDgGeVLbf6KgWvXY+o5fgDBglBPzmQf6t5QCOxLU7aiFLliG4IFoVxawCnVvJ3aF4MW7blMKZfyDgQLQmjLrE1BPZusMWCQbjGT3/gBBAv6LmdcJlVRzuUVKvfIaIFBi0WZinxzfIsj7QdRxuYeu/fy1fOb+6aAxIBBNOUzBVjKOxEsCFGL/sNGDHW0xqBBrPKYglWHYmBDiKC1BgxeuB5TwFx+CMGK0gvC9ZiCj+/tB7Yn3BymNHLZVgS7k24xU3qr9yPYE4Cv76I9X1GaP6kdCNaEMfAjWnOZ0s68oxssSa6/NEqmJhZ6TL1RHURpQyBXFtTeGv5bKsLNVtQrOb7VybAfkGuKiNT1Tt0DCDefqZeW8o6Y9QCsISYi9aBTJwGxtpip95a3Cdv50khMierW8IwE4XqV1JuWWQ7oNR5TcnWrUyCIpmymXtVkObrFY+pZXRkidEsmU4QgV3tMqarrw90CpugAoNFjSj3+5EMVRQh6TQGTX2aKEGTDJ6Y/vsWAbCxkijBANJIZ7UWuKeNIQ64mpggD5Foypp0AriSONgbcVhRtDLrxr3e369iYaomVDLxalmvMkmYbQWfCFIMORRtBMCnaiYH/PrD4FzB09+1kE8PbGpXAN8YOGGzkoSs8SnjSBWFNzCGmxNdPnxj5uccJ6gKGdhh2vyYJm5qSqpXfQhvq5XFOMHv5o6EY3mHA5VrjlefNEyEO9dg7tWw2VbBM/h7mUHce82oVm7pCqceLJWC413LatmsPnxj67okFgzWGftDSGfDZ0DHUgP/7f/t/+/8/lJ4dIbEjFXaUyY7Z2dGV44ZTWNxYgFhmWAEwmDEAQGdeZH2ARFZEwXmLnIgV15IZkQV39bBssEPjoSzHBLcEL6o+S/Kfn09ldoWbAA=="
          ></my-image>
        </div>
      </div>
    </div>
    <footer-sign
      sign-data="{{signData}}"
      onclickmore="handleClickMore"
    ></footer-sign>
  </div>
</template>

<script>
export default {
  props: {
    listData: {
      default: [
        {
          title: "标题",
          imgUrl: "",
          description:
            "文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。"
        },
        {
          title: "标题",
          imgUrl: "",
          description:
            "文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。"
        },
        {
          title: "标题",
          imgUrl: "",
          description:
            "文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。"
        },
        {
          title: "标题",
          imgUrl: "",
          description:
            "文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。文字内容，行数尽量控制在2-3行。"
        }
      ]
    },
    signData: {
      default: {
        signName: "来源名称",
        signUrl: "",
        skipName: "查看更多",
        skipLink: ""
      }
    },
    imgResizeMode: {
      default: "cover"
    },
    imgObjectFit: {
      default: "cover"
    }
  },
  data() {
    return {
      recordImg: {
        browse:
          "data:image/png;base64,UklGRgoDAABXRUJQVlA4TP0CAAAvP8APEIfjOJIkR8meQ6sfgT34bwrBX8+44bhtI0mia2Z2X3cam39GG8XVnn+HkSSrCu/dPtw1AMiAwEnK3eVKAxXmqbgHXQkvtNuUZZTNJiB1mBrfjHaGGII3FglBW9SE4DJBBUQNtQDUVAlQHBCgWDWGNJCQQXEICBA/UWtUFVwUW3hoFygwNRHDxnAf1JLDTa19cJj9Rvx2HxupUUuMatMIral60QsQElrqCQ4tIbh2hHqCm4/i12K/v0f+Oln+75/0GfI4k/0b3X7S/qKx3UQ/LDEfVFBQ4eBEBgIsDizxm5FeS6Qal1g9nxSwrm0y5FSv4rVj27ZtO/kWMf//bWqqevY2NxH9nwD6t3i/0NnQulfMv37udGSGq0xp+Spjn9C+Tc77S2aurwi7r91LJfEwBjfX712ryObhbj5z506iCPeLEWPveh3al9rMTOdhkwLYf7AV/IRy+tQQGxj5kqFwYmc4D3nTLEm9R98iIGospKGcMqQMFmWoO1dloOwj/e+mDOMhRQbKZo8FWszL8Fwu6oHy85aszijwcSUYgHaAHCtWYrGVCgfvhwJ7AYflvGbPcJ7OdwB47/QwNKDBhJ8JFaHtIX4SjpOc/1uDdUNEpgnqMy4JYZKhOhXiRJSGOudhPHuSPQ8zqkM1LeV148ReQHzBzFsoXDZB38ENygaZZQvoeLSw7sKije5ATrfPXcgumGoLz36K6F44z55kz8Mc6/JBIk+dCnMMJSVJYh91YSKiwIsqxdGk0ySx5k01RuxyXlPv4Ol8//Pe6eFqoG254SilwRBHVLESi61UkGOTZqOCnDOado+DshLKzysSeh4VSFsJvCg+y0hsJhWotOBtgvx5jpRmSvGdUJ3XQ757TfoeGbB6IwtuQd5vyObCqwyfCa/T/SPk30myfN8mA14nI5VVp4meHSifgmTd1/Mus5wL+8jNn0bX1gLk9lC7K+1BKsXFg29L32tnVKrnw2MFVW4scUclbc6SXettz8Xv7Y+Jxt7hCx/9WwQA",
        like:
          "data:image/png;base64,UklGRu4BAABXRUJQVlA4TOEBAAAvP8APEL/ippEkSYr5x1p3mS3xA3Akzty5ogG3kSRHUlTPUfnMOP+94hr9r/l3GwBgmsTrfoL90P8nvmByh7gGAFEqPYGcYbC9pDboXBJk+6jbUV/iacwZGKdELeoSrkDCYEThUCMDRVYgAsGAG7FAlEGPTEWQAxYc3D+MC7jgIqsQZTAVSEqkTIEfvH8UtZGhDl68jayQYQuw/clKIfGukUrI/PH5F8V04v3WMcUt7k/eR/LiFB0b9gfI8r/29u/F4X0K9w/8nARAEgBGURNc67h7HXcP7g79/1vKDmly6ymi/xMA/x5P42T4Uy/piIh4lJT4hc9ydHg1dBbjvIY1MWuNmZisRkJMVKMvxYzaNiF1hR8Zl6SCQUYBtUMgcplRmIowvqLiSIJ+gqpNCR+o/CigiOp2fi+oHgTuOg/eOGZQHfmuj74AoI23dt+VfR4rRQq1M0aAp5tuDh4IQgq4Y4AlgrDKhsMdgZ9ZjSDCbE3gZWYmcPMKAWGB1xvFPa8mRZtXjqLFy0ThYBUAyi0rF8meVZbEycpCcuDUA1IdpyMNpBl9E3UZmYkGfAZA7OPTpIrzeaBysQnpqBpsJkDdUav/RZmsqLb6gwGQz9UgT1ehu8Q0hmcAgIWrS5Juw79DAA==",
        collect:
          "data:image/png;base64,UklGRvwBAABXRUJQVlA4TPABAAAvP8APEM/iKpJsV+l95PSJIPwrAQOZszbcRpKkSNlzDxIY8v5b9hJOz7/rSLZN656Nazwl8L5e/gnZNvbRDiSElt4Cr6gndIeu8IRfM1r+wqqKDGe4FWRkImugyJClAoaBlAQKZEExBdETrih40MZvTUCWUHjhIErwsaD44pX4g9LPAPSMp5MsVC2zIlGFFVfhOsw/ssZUPYerkq5ayR+fqo0s4RLj9VrjIDJfk6zLn1UXzyonnvMmcJ+/dPUF26HPl9/9RB8P8XKjgCQAbNpGZWYGpczMzO2Yef//Supa8m27RPR/AuB/ozFczDQsKtUREWsKvaCuU51rvaoyHjzrUCV+LqGIEwXv1BiKpIwqHFB4o0JUrGLk58YLn7n9PiYvKWytXAzvruCggFJL8ZDf+UViPrRXqSVSLyJNl0GSdYRs5x9yesg4LifPaSonxakv547TQQ6c2GSPINuX4zG9A/lPMw7FW6D8mNPlP4HWVqFK24D6e0gT/QJ6c48iZgKOxpK8mQFY2pHQysNL4ebRoejwGFDc8yhTjFnYkdTCwU2z5dChOXEYiGnhlibW5VAWKa6/Ab4fiiJpDtlzi5sf0P25WZzTOCT1RldmEDT7J3pRDp8aIlaeDXChYZdGRO2dA7wFOlsjSDTum8FX+IMO"
      }
    };
  },
  filterRecordNumber(val) {
    val = Number(val);

    return val > 10000 ? `${Math.round(val / 10000)}万` : val;
  },
  handleClickMore() {
    this.$emit("clickmore");
  }
};
</script>

<style lang="less">
.border-top {
  border-top: 2px solid rgba(0, 0, 0, 0.05);
}
.margin-top {
  margin-top: 8px;
}

.card {
  width: 100%;
  flex-direction: column;
  .content-list {
    flex-direction: column;
    padding: 0 32px;
    &-item {
      flex-direction: column;
      padding: 24px 0;
      .title {
        font-size: 32px;
        color: #000;
        line-height: 40px;
        margin-bottom: 12px;
      }
      .content {
        .image {
          width: 142px;
          height: 108px;
          margin-left: 20px;
        }
        .info-wrap {
          flex-direction: column;
          .description {
            font-size: 24px;
            color: #333;
            line-height: 36px;
            lines: 3;
            text-overflow: ellipsis;
          }
          .tips {
            font-size: 20px;
            color: #999;
            line-height: 24px;
            margin-top: 12px;
            lines: 1;
            text-overflow: ellipsis;
          }
          .record-row {
            margin-top: 16px;
            .record-item {
              &-icon {
                width: 32px;
                height: 32px;
                margin-right: 8px;
              }
              &-number {
                width: 100px;
                font-size: 20px;
                color: #999;
                margin-right: 20px;
                lines: 1;
                text-overflow: ellipsis;
              }
            }
          }
        }
        .params-wrap {
          .params-key-list {
            flex-direction: column;
            .params-key {
              justify-content: space-between;
              .params-key-str {
                font-size: 24px;
                color: #333;
                line-height: 30px;
              }
            }
          }
          .params-value-list {
            flex-direction: column;
            flex: 1;
            .params-value {
              font-size: 24px;
              color: #666;
              line-height: 30px;
              lines: 1;
              text-overflow: ellipsis;
            }
          }
        }
      }
    }
  }
}
</style>
